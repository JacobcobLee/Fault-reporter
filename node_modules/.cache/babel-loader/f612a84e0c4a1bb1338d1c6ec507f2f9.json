{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\material-dashboard-react-master\\\\src\\\\views\\\\Analytics\\\\Analytics.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport filterFactory, { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\nimport axios from 'axios';\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit';\nexport default function Analytics() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      analytics = _useState2[0],\n      setAnalytics = _useState2[1];\n\n  var getAnalyticsData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://localhost:8080/api/v1/fault2\").then(function (response) {\n                console.log(response.data);\n                setAnalytics(Object.values(response.data));\n              });\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function getAnalyticsData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var selectOptions = [{\n    value: 'Unresolved',\n    label: 'Unresolved'\n  }, {\n    value: 'Pending',\n    label: 'Pending'\n  }, {\n    value: 'Resolved',\n    label: 'Resolved'\n  }];\n  var columns = [//,filter: dateFilter()\n  {\n    dataField: \"date\",\n    text: \"Case reported on\",\n    filter: textFilter()\n  }, {\n    dataField: \"storeName\",\n    text: \"Store Location\",\n    filter: textFilter()\n  }, {\n    dataField: \"problem.category\",\n    text: \"Category\",\n    filter: textFilter()\n  }, {\n    dataField: \"description\",\n    text: \"Description\",\n    filter: textFilter()\n  }, {\n    dataField: \"staffName\",\n    text: \"Staff Name\",\n    filter: textFilter()\n  }, {\n    dataField: \"comments\",\n    text: \"Comments\",\n    filter: textFilter()\n  }, {\n    dataField: \"status\",\n    text: \"Status\",\n    filter: selectFilter({\n      options: selectOptions\n    })\n  }, {\n    dataField: \"lasteditedby\",\n    text: \"Last Edited By\",\n    hidden: \"true\"\n  }, {\n    dataField: \"problem.checkbox.name\",\n    text: \"Problem Checkbox Name\",\n    hidden: \"true\"\n  }, {\n    dataField: \"problem.checkbox.answer\",\n    text: \"Problem Checkbox Answer\",\n    hidden: \"true\"\n  }, {\n    dataField: \"problem.radio.name\",\n    text: \"Problem Radio Name\",\n    hidden: \"true\"\n  }, {\n    dataField: \"problem.radio.answer\",\n    text: \"Problem Radio Answer\",\n    hidden: \"true\"\n  }];\n  useEffect(function () {\n    getAnalyticsData();\n  }, []);\n  analytics.sort(function (a, b) {\n    return a - b;\n  }).reverse();\n\n  var MyExportCSV = function MyExportCSV(props) {\n    var handleClick = function handleClick() {\n      props.onExport();\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(GridContainer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 12,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClick,\n      fullWidth: true,\n      color: \"info\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Generate Excel Sheet\"))));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Cases\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Cases can be generated as excel sheet and downloaded\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ToolkitProvider, {\n    keyField: \"uuid\",\n    data: analytics,\n    columns: columns,\n    exportCSV: {\n      exportAll: false,\n      onlyExportFiltered: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, function (props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(BootstrapTable, Object.assign({\n      filter: filterFactory(),\n      keyField: \"uuid\",\n      data: analytics,\n      columns: columns,\n      pagination: paginationFactory(),\n      filterPosition: \"top\"\n    }, props.baseProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MyExportCSV, Object.assign({}, props.csvProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    })));\n  }))));\n}","map":{"version":3,"sources":["D:/material-dashboard-react-master/src/views/Analytics/Analytics.js"],"names":["React","useState","useEffect","BootstrapTable","paginationFactory","filterFactory","textFilter","selectFilter","axios","Card","CardBody","CardHeader","Button","GridItem","GridContainer","ToolkitProvider","Analytics","analytics","setAnalytics","getAnalyticsData","get","then","response","console","log","data","Object","values","selectOptions","value","label","columns","dataField","text","filter","options","hidden","sort","a","b","reverse","MyExportCSV","props","handleClick","onExport","exportAll","onlyExportFiltered","baseProps","csvProps"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\r\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport filterFactory, { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport axios from 'axios';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit';\r\n\r\nexport default function Analytics() {\r\n    const [analytics,setAnalytics] = useState([]);\r\n    const getAnalyticsData = async ()=> {\r\n        try{\r\n            await axios\r\n            .get(\"http://localhost:8080/api/v1/fault2\")\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                setAnalytics(Object.values(response.data));\r\n            })\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    const selectOptions = [\r\n      { value: 'Unresolved', label: 'Unresolved' },\r\n      { value: 'Pending', label: 'Pending' },\r\n      { value: 'Resolved', label: 'Resolved' }\r\n    ];\r\n\r\n    const columns = [//,filter: dateFilter()\r\n        {dataField: \"date\", text:\"Case reported on\",filter: textFilter()},\r\n        {dataField: \"storeName\", text:\"Store Location\",filter: textFilter()},\r\n        {dataField: \"problem.category\", text:\"Category\",filter: textFilter()},\r\n        {dataField: \"description\", text:\"Description\",filter: textFilter()},\r\n        {dataField: \"staffName\", text:\"Staff Name\",filter: textFilter()},\r\n        {dataField: \"comments\", text:\"Comments\",filter: textFilter()},\r\n        {dataField: \"status\", text:\"Status\",filter: selectFilter({\r\n          options: selectOptions\r\n        })},\r\n        {dataField: \"lasteditedby\", text:\"Last Edited By\", hidden:\"true\"},\r\n        {dataField: \"problem.checkbox.name\", text:\"Problem Checkbox Name\", hidden:\"true\"},\r\n        {dataField: \"problem.checkbox.answer\", text:\"Problem Checkbox Answer\", hidden:\"true\"},\r\n        {dataField: \"problem.radio.name\", text:\"Problem Radio Name\", hidden:\"true\"},\r\n        {dataField: \"problem.radio.answer\", text:\"Problem Radio Answer\", hidden:\"true\"},\r\n    ]\r\n\r\n    useEffect(() => {\r\n        getAnalyticsData();\r\n    },[])\r\n\r\n    analytics.sort((a, b) => a - b).reverse()\r\n\r\n    const MyExportCSV = (props) => {\r\n      const handleClick = () => {\r\n        props.onExport();\r\n      };\r\n      return (\r\n        <div>\r\n           <GridContainer>\r\n            <GridItem xs={12} sm={12} md={12}>\r\n                <Button onClick={handleClick} fullWidth color=\"info\">Generate Excel Sheet</Button>\r\n            </GridItem>\r\n        </GridContainer>\r\n        </div>\r\n      );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n        <Card>\r\n        <CardHeader color=\"primary\">\r\n        <h4>Cases</h4>\r\n          <p>\r\n            Cases can be generated as excel sheet and downloaded\r\n          </p>\r\n        </CardHeader>\r\n        <CardBody>\r\n        <ToolkitProvider\r\n          keyField=\"uuid\"\r\n          data={ analytics }\r\n          columns={ columns }\r\n          exportCSV ={ {\r\n            exportAll:false,\r\n            onlyExportFiltered:true\r\n          } }\r\n        >\r\n        {\r\n        props => (\r\n          <div>\r\n            <BootstrapTable\r\n            filter={filterFactory()}\r\n            keyField=\"uuid\"\r\n            data={analytics}\r\n            columns={columns}\r\n            pagination={paginationFactory()}\r\n            filterPosition=\"top\"\r\n            { ...props.baseProps } />\r\n            <hr />\r\n            <MyExportCSV { ...props.csvProps } />\r\n          </div>\r\n        )\r\n      }\r\n    </ToolkitProvider>\r\n        </CardBody>\r\n        </Card>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}